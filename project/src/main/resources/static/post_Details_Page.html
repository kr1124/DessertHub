<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê²Œì‹œê¸€ ìƒì„¸</title>
  <link rel="stylesheet" href="/back.css">
  <!-- CSS -->
  <style>
    /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    body,
    html {
      margin: 0;
      padding: 0;
      font-family: 'Noto Sans KR', sans-serif;
      box-sizing: border-box;
      background-color: #fff8f0;
      /* ë¶€ë“œëŸ¬ìš´ í”¼ì¹˜ ë°°ê²½ */
    }

    .container {
      padding: 20px;
      width: 1000px;
      margin: 40px auto;
      background: #ffffff;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      border-radius: 15px;
      animation: fadeIn 0.5s ease-in-out;
    }

    /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .header {
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #ffb6c1;
      position: relative;
    }

    .category {
      font-size: 14px;
      color: #ff6f91;
      margin-bottom: 5px;
    }

    .title {
      font-size: 26px;
      font-weight: bold;
      color: #ff6b81;
    }

    .info {
      font-size: 14px;
      color: #777;
      margin-top: 5px;
    }

    .content {
      margin: 20px 0;
      font-size: 16px;
      line-height: 1.8;
      color: #5d4037;
    }

    /* í•˜íŠ¸ ì• ë‹ˆë©”ì´ì…˜ */

    /* í•˜íŠ¸ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ì •ë ¬ ì¡°ì • */

    /* í•˜íŠ¸ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ì¤‘ì•™ ì •ë ¬ */
    .heart-container {
      display: flex;
      justify-content: center;
      /* ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
      align-items: center;
      /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
      margin: 20px 0;
      /* ìœ„ì•„ë˜ ì—¬ë°± ì¡°ì • */
      height: 80px;
      /* í•˜íŠ¸ í¬ê¸°ì— ë§ì¶° ì¡°ì • */
      position: relative;
    }

    .button {
      width: 40px;
      height: 40px;
      border-radius: 5px;
      background: none;
      cursor: pointer;
      transition: background 0.5s ease;
    }

    .active#heart:before,
    .active#heart:after {
      background: red !important;
    }

    /* í•˜íŠ¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #heart {
      width: 10px;
      height: 10px;
      position: relative;
      /* ì• ë‹ˆë©”ì´ì…˜ ìœ„ì¹˜ ì¡°ì • */
      transition: background 0.5s ease;
    }

    #heart:before,
    #heart:after {
      transition: background 0.5s ease;
      position: absolute;
      content: "";
      left: 25px;
      top: 0;
      width: 25px;
      height: 40px;
      background: dimgrey;
      border-radius: 25px 25px 0 0;
      transform: rotate(-45deg);
      transform-origin: 0 100%;
    }

    #heart:after {
      left: 0;
      transform: rotate(45deg);
      transform-origin: 100% 100%;
    }

    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .actions {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 10px;
    }

    .actions button {
      padding: 10px 15px;
      border: none;
      background-color: #ff6b81;
      color: white;
      border-radius: 25px;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .actions button:hover {
      background-color: #e91e63;
    }

    /* ëŒ“ê¸€ ìŠ¤íƒ€ì¼ */
    .comments-container {
      margin-top: 20px;
    }

    .comment-input {
      display: flex;
      margin-top: 10px;
      gap: 10px;
    }

    .comment-input input {
      flex: 1;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 25px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .comment-input button {
      padding: 10px 15px;
      border: none;
      background-color: #ff6b81;
      color: white;
      border-radius: 25px;
      cursor: pointer;
      transition: 0.3s;
    }

    .comment-input button:hover {
      background-color: #e91e63;
    }

    .comment-list {
      list-style: none;
      padding: 0;
    }

    .comment-list li {
      padding: 12px;
      border-bottom: 1px solid #ffe4e1;
      display: flex;
      justify-content: space-between;
    }

    .delete-btn {
      background-color: red;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 25px;
      cursor: pointer;
      transition: 0.3s;
    }

    .delete-btn:hover {
      background-color: #d32f2f;
    }
  </style>
</head>

<body>

  <header>
    <div class="logo">
      <a href="new_index.html" class="no-underline">Dessert Hub</a>
    </div>
    <div class="auth-buttons">
      <a href="Login_Join.html">
        <button>Login</button>
      </a>
      <button id="theme-toggle">ğŸŒ™</button>
    </div>
  </header>

  <div class="main-layout">
    <nav class="sidebar">
      <a href="#recommend" class="menu-item">
        ğŸ© <span>ì¶”ì²œ ë””ì €íŠ¸</span>
      </a>
      <a href="#store" class="menu-item">
        ğŸ° <span>ê°€ê²Œ</span>
      </a>
      <a href="#map" class="menu-item">
        ğŸ—ºï¸ <span>ì§€ë„</span>
      </a>
      <a href="#community" class="menu-item">
        ğŸ“‹ <span>ê²Œì‹œíŒ</span>
      </a>
      <a href="#about" class="menu-item">
        â„¹ï¸ <span>About</span>
      </a>
    </nav>

    <div class="container">
      <div class="header">
        <div class="category" id="post-category">ê³µì§€ì‚¬í•­</div>
        <div class="title" id="post-title">ê²Œì‹œê¸€ ì œëª©</div>
        <div class="info" id="post-info">ì‘ì„±ì: ì‘ì„±ì 1 | ì‘ì„±ì¼: 2024-01-01 | ì¡°íšŒìˆ˜: 123 | ì°œ: 0</div>
        <div class="actions">
          <button id="edit-post">ìˆ˜ì •</button>
          <button id="delete-post">ì‚­ì œ</button>
        </div>
      </div>

      <div class="content" id="post-content">
        ê²Œì‹œê¸€ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
      </div>

      <!-- í•˜íŠ¸ ë²„íŠ¼ ìœ„ì¹˜ ì¡°ì • -->
      <div class="heart-container">
        <div id="heart" class="button"></div>
      </div>

      <!-- ëŒ“ê¸€ ì„¹ì…˜ -->
      <div class="comments-container">
        <h3>ëŒ“ê¸€ (<span id="comment-count">0</span>)</h3>
        <ul id="comment-list" class="comment-list"></ul> <!-- ì´ ë¶€ë¶„ í™•ì¸ -->
        <div class="comment-input">
          <input type="text" id="comment-input" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”">
          <button id="add-comment">ë“±ë¡</button>
        </div>
      </div>

    </div>
  </div>

  <footer>
    <p>Â© Dessert Hub, All rights reserved.</p>
  </footer>


  <!-- JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mo-js/0.288.2/mo.min.js"></script>
  <script>
    $(document).ready(function () {
      // ì• ë‹ˆë©”ì´ì…˜ ê²½ë¡œ ì„¤ì •
      var scaleCurve = mojs.easing.path('M0,100 L25,99.9999983 C26.2328835,75.0708847 19.7847843,0 100,0');

      // í•˜íŠ¸ ë²„íŠ¼ ì„ íƒ
      var el = document.querySelector('#heart');
      var timeline = new mojs.Timeline();

      // ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ 1: ë¶‰ì€ í•˜íŠ¸ í¼ì§
      var tween1 = new mojs.Burst({
        parent: el,
        radius: { 0: 100 },
        angle: { 0: 45 },
        y: -10,
        count: 10,
        children: {
          shape: 'circle',
          radius: 30,
          fill: ['red', 'white'],
          strokeWidth: 15,
          duration: 500,
        },
      });

      // ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ 2: ìŠ¤ì¼€ì¼ ë³€í™˜
      var tween2 = new mojs.Tween({
        duration: 900,
        onUpdate: function (progress) {
          var scaleProgress = scaleCurve(progress);
          el.style.transform = 'scale3d(' + scaleProgress + ',' + scaleProgress + ',1)';
        },
      });

      // ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ 3: ë°˜ëŒ€ ë°©í–¥ í¼ì§
      var tween3 = new mojs.Burst({
        parent: el,
        radius: { 0: 125 },
        angle: { 0: -45 },
        y: -10,
        count: 10,
        children: {
          shape: 'circle',
          radius: 30,
          fill: ['white', 'red'],
          strokeWidth: 15,
          duration: 400,
        },
      });

      // íƒ€ì„ë¼ì¸ ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
      timeline.add(tween1, tween2, tween3);

      // í•˜íŠ¸ í´ë¦­ ì´ë²¤íŠ¸ í†µí•©
      $("#heart").click(function () {
        if ($(this).hasClass('active')) {
          $(this).removeClass('active'); // ë¹„í™œì„±í™”
          post.liked = false; // ìƒíƒœ ë¹„í™œì„±í™”
          post.likesCount = 0; // ì°œ ìˆ˜ ê°ì†Œ
        } else {
          timeline.replay(); // ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰
          $(this).addClass('active'); // í™œì„±í™” ìƒíƒœ ì¶”ê°€
          post.liked = true; // ìƒíƒœ í™œì„±í™”
          post.likesCount = 1; // ì°œ ìˆ˜ ì¦ê°€
        }
        renderPost(); // ìƒíƒœ ì—…ë°ì´íŠ¸ ë°˜ì˜
      });
    });

    // ê²Œì‹œê¸€ ë°ì´í„° ì´ˆê¸°í™” ë° ìƒíƒœ ì—…ë°ì´íŠ¸
    const post = {
      id: 1,
      category: 'ê³µì§€ì‚¬í•­',
      title: 'ê²Œì‹œê¸€ ì œëª© ì˜ˆì‹œ',
      author: 'ì‘ì„±ì 1',
      date: '2024-01-01',
      views: 123,
      content: 'ì´ê³³ì€ ê²Œì‹œê¸€ì˜ ë³¸ë¬¸ ë‚´ìš©ì…ë‹ˆë‹¤.',
      liked: false,
      likesCount: 0,
      comments: []
    };

    // ê²Œì‹œê¸€ ë Œë”ë§ í•¨ìˆ˜
    const postCategory = document.getElementById('post-category');
    const postTitle = document.getElementById('post-title');
    const postInfo = document.getElementById('post-info');
    const postContent = document.getElementById('post-content');
    const heart = document.getElementById('heart');
    const commentList = document.getElementById('comment-list');
    const commentInput = document.getElementById('comment-input');
    const commentCount = document.getElementById('comment-count');

    function renderPost() {
      postCategory.innerText = post.category;
      postTitle.innerText = post.title;
      postInfo.innerText = `ì‘ì„±ì: ${post.author} | ì‘ì„±ì¼: ${post.date} | ì¡°íšŒìˆ˜: ${post.views} | ì°œ: ${post.likesCount}`;
      heart.classList.toggle('active', post.liked);
    }

    // DOM ë¡œë“œ ì™„ë£Œ í›„ ì‹¤í–‰
    document.addEventListener('DOMContentLoaded', function () {
      const commentList = document.getElementById('comment-list'); // ëŒ“ê¸€ ëª©ë¡
      const commentInput = document.getElementById('comment-input'); // ëŒ“ê¸€ ì…ë ¥ì°½
      const commentCount = document.getElementById('comment-count'); // ëŒ“ê¸€ ìˆ˜ í‘œì‹œ

      // ëŒ“ê¸€ ë°ì´í„° ì €ì¥
      const comments = [];

      // ëŒ“ê¸€ ì¶”ê°€ í•¨ìˆ˜
      function addComment() {
        const commentText = commentInput.value.trim(); // ê³µë°± ì œê±°
        if (!commentText) { // ë¹ˆ ì…ë ¥ ì²˜ë¦¬
          alert('ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”!');
          return;
        }

        const comment = { id: Date.now(), text: commentText }; // ê³ ìœ  ID ìƒì„±
        comments.push(comment); // ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
        renderComments(); // ëŒ“ê¸€ ë Œë”ë§ ì—…ë°ì´íŠ¸
        commentInput.value = ''; // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
      }

      // ëŒ“ê¸€ ì‚­ì œ í•¨ìˆ˜
      function deleteComment(id) {
        const index = comments.findIndex(comment => comment.id === id); // ID ê¸°ë°˜ ê²€ìƒ‰
        if (index > -1) {
          comments.splice(index, 1); // ëŒ“ê¸€ ì‚­ì œ
        }
        renderComments(); // ì‚­ì œ í›„ ë Œë”ë§ ì—…ë°ì´íŠ¸
      }

      // ëŒ“ê¸€ ë Œë”ë§ í•¨ìˆ˜
      function renderComments() {
        commentList.innerHTML = ''; // ê¸°ì¡´ ëŒ“ê¸€ ì´ˆê¸°í™”
        comments.forEach(comment => {
          const li = document.createElement('li'); // <li> íƒœê·¸ ìƒì„±
          li.innerHTML = `
        <span>${comment.text}</span>
        <button class="delete-btn" onclick="deleteComment(${comment.id})">ì‚­ì œ</button>
      `;
          commentList.appendChild(li); // ëŒ“ê¸€ ì¶”ê°€
        });
        commentCount.innerText = comments.length; // ëŒ“ê¸€ ìˆ˜ ì—…ë°ì´íŠ¸
      }

      // ëŒ“ê¸€ ë“±ë¡ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
      document.getElementById('add-comment').addEventListener('click', addComment);

      // Enter í‚¤ë¡œ ëŒ“ê¸€ ì¶”ê°€
      commentInput.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
          addComment();
        }
      });

      // ì „ì—­ í•¨ìˆ˜ë¡œ deleteComment ë“±ë¡ (onClickì—ì„œ ì‚¬ìš©)
      window.deleteComment = deleteComment;
    });

    // ì´ˆê¸° ë Œë”ë§
    renderPost();



  </script>
</body>

</html>